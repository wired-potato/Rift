<!DOCTYPE html>
<html>
   <head>
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <title>Rift</title>
      <script src="https://cdn.jsdelivr.net/npm/particles.js"></script>
      <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" integrity="sha512-iecdLmaskl7CVkqkXNQ/ZH/XLlvWZOJyj7Yy7tcenmpD1ypASozpmT/E0iPtmFIB46ZmdtAc9eNBvH0H/ZpiBw==" crossorigin="anonymous" referrerpolicy="no-referrer" />
        <link rel="icon" type="image/x-icon" href="/icon.png"> <!--if you want me to get rid of this i will-->
      <link rel="manifest" href="/manifest.json">
      <link rel="stylesheet" href="../assets/font-awesome/css/all.css">
      <link href="https://fonts.googleapis.com/css2?family=Open+Sans&display=swap" rel="stylesheet">
      <link href="https://fonts.googleapis.com/css2?family=Oswald&display=swap" rel="stylesheet">
      <style>
         

/* General styling */
body {
   background-color: #121212;
   color: #e0e0e0;
   font-family: 'Open Sans', sans-serif;
   margin: 0;
   padding: 0;
}

#particles-js {
   position: fixed;
   top: 0;
   left: 0;
   width: 100vw;
   height: 100vh;
   z-index: -5;
}

#content {
   display: flex;
   flex-direction: column;
   justify-content: center;
   align-items: center;
   height: 100vh;
   text-align: center;
}

#content h1 {
   margin-bottom: 20px;
   font-family: "Courier New", monospace;
   font-size: 48px;
   text-transform: uppercase;
   color: #ffffff;
}

/* Dark theme input */
.input {
   width: 100%;
   max-width: 270px;
   height: 60px;
   padding: 12px;
   font-size: 18px;
   font-family: "Courier New", monospace;
   color: #e0e0e0;
   background-color: #333333;
   border: 4px solid #e0e0e0;
   border-radius: 0;
   outline: none;
   transition: all 0.3s ease;
   box-shadow: 8px 8px 0 #000;
   caret-color: transparent;
}

.input::placeholder {
   color: #888;
}

.input:hover {
   transform: translate(-4px, -4px);
   box-shadow: 12px 12px 0 #000;
}

.input:focus {
   background-color: #010101;
   color: #fff;
   border-color: #ffffff;
}

.input:focus::placeholder {
   color: #fff;
}

.input-container {
   position: relative;
   width: 100%;
   max-width: 270px;
}

/* Glitch effect */
@keyframes glitch {
   0% {
      transform: none;
      opacity: 1;
   }
   7% {
      transform: skew(-0.5deg, -0.9deg);
      opacity: 0.75;
   }
   10% {
      transform: none;
      opacity: 1;
   }
   30% {
      transform: skew(0.8deg, -0.1deg);
      opacity: 0.75;
   }
   50% {
      transform: none;
      opacity: 1;
   }
   55% {
      transform: skew(-1deg, 0.2deg);
      opacity: 0.75;
   }
   75% {
      transform: skew(0.4deg, 1deg);
      opacity: 0.75;
   }
   100% {
      transform: none;
      opacity: 1;
   }
}

.input:not(:placeholder-shown) {
   animation: glitch 1s linear infinite;
}

.input-container::after {
   content: "";
   position: absolute;
   right: 10px;
   top: 50%;
   transform: translateY(-50%);
   color: #e0e0e0;
   animation: blink 0.7s step-end infinite;
}

@keyframes blink {
   50% {
      opacity: 0;
   }
}

.input:focus + .input-container::after {
   color: #ffffff;
}

.input:not(:placeholder-shown) {
   font-weight: bold;
   letter-spacing: 1px;
   text-shadow: 0px 0px 0 #000;
}

      </style>
   </head>
   <body>
      <div id="content">
         <div id="particles-js"></div>
         <h1>RIFT</h1>

         <!-- New Search Bar with Functionality -->
         <form id="uv-form">
            <div class="input-container">
               <input id="uv-search-engine" value="https://www.google.com/search?q=%s" type="hidden"/> 
               <input id="uv-address" class="input" name="text" type="text" placeholder="Open the rift..."/>
            </div>
         </form>

      
         <div class="desc left-margin">
            <p id="uv-error"></p>
            <pre id="uv-error-code"></pre>
         </div>
      </div>

      <script src="uv/uv.bundle.js" charset="UTF-8" defer></script>
      <script src="uv/uv.config.js" charset="UTF-8" defer></script>
      <script src="register-sw.js" charset="UTF-8" defer></script>
      <script src="search.js" charset="UTF-8" defer></script>
      <script src="index.js" charset="UTF-8" defer></script>

      <script>
         particlesJS('particles-js', {
            particles: {
               number: { value: 75 },
               color: { value: "#ffffff" },
               shape: { type: "circle" },
               opacity: { value: 1 },
               size: { value: 2 },
               line_linked: {
                  enable: true,
                  distance: 150,
                  color: "#ffffff",
                  opacity: 0.4,
                  width: 1,
               },
               move: {
                  enable: true,
                  speed: 6,
               },
            },
            interactivity: {
               detect_on: "window",
               events: {
                  onhover: { enable: false, mode: "repulse" },
                  onclick: { enable: false, mode: "push" },
               },
            },
            retina_detect: true,
         });

         // Keep the functionality of the old search bar
         document.querySelector('#uv-form').addEventListener('submit', function(event) {
            event.preventDefault();
            const query = document.querySelector('#uv-address').value;
            if (query.startsWith('http://') || query.startsWith('https://')) {
               window.location.href = query;
            } else {
               const searchEngine = document.querySelector('#uv-search-engine').value;
               window.location.href = searchEngine.replace('%s', encodeURIComponent(query));
            }
         });

         document.querySelector('.input').addEventListener('focus', function() {
  this.style.caretColor = 'transparent';
  this.style.outline = 'none';
});

      </script>
   </body>
</html>
