<!DOCTYPE html>
<html>
   <head>
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <title>Rift</title>
      <script src="https://cdn.jsdelivr.net/npm/particles.js"></script>
      <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" integrity="sha512-iecdLmaskl7CVkqkXNQ/ZH/XLlvWZOJyj7Yy7tcenmpD1ypASozpmT/E0iPtmFIB46ZmdtAc9eNBvH0H/ZpiBw==" crossorigin="anonymous" referrerpolicy="no-referrer" />
        <link rel="icon" type="image/x-icon" href="/icon.png"> <!--if you want me to get rid of this i will-->
      <link rel="manifest" href="/manifest.json">
      <link rel="stylesheet" href="../assets/font-awesome/css/all.css">
      <link href="https://fonts.googleapis.com/css2?family=Open+Sans&display=swap" rel="stylesheet">
      <link href="https://fonts.googleapis.com/css2?family=Oswald&display=swap" rel="stylesheet">
      <style>
         

/* General styling */
body {
   background-color: #121212;
   color: #e0e0e0;
   font-family: 'Open Sans', sans-serif;
   margin: 0;
   padding: 0;
}

#particles-js {
   position: fixed;
   top: 0;
   left: 0;
   width: 100vw;
   height: 100vh;
   z-index: -5;
}

#content {
   display: flex;
   flex-direction: column;
   justify-content: center;
   align-items: center;
   height: 100vh;
   text-align: center;
}

#content h1 {
   margin-bottom: 20px;
   font-family: "Courier New", monospace;
   font-size: 48px;
   text-transform: uppercase;
   color: #ffffff;
}

/* Dark theme input */
.input {
   width: 100%;
   max-width: 500px;
   height: 60px;
   padding: 12px;
   font-size: 18px;
   font-family: "Courier New", monospace;
   color: #e0e0e0;
   background-color: #333333;
   border: 4px solid #e0e0e0;
   border-radius: 0;
   outline: none;
   transition: all 0.3s ease;
   box-shadow: 8px 8px 0 #000;
   caret-color: transparent;
}

.input::placeholder {
   color: #888;
}

.input:hover {
   transform: translate(-4px, -4px);
   box-shadow: 12px 12px 0 #000;
}

.input:focus {
   background-color: #010101;
   color: #fff;
   border-color: #ffffff;
}

.input:focus::placeholder {
   color: #fff;
}

.input-container {
   position: relative;
   width: 100%;
   max-width: 270px;
}

/* Glitch effect */
@keyframes glitch {
   0% {
      transform: none;
      opacity: 1;
   }
   7% {
      transform: skew(-0.5deg, -0.9deg);
      opacity: 0.75;
   }
   10% {
      transform: none;
      opacity: 1;
   }
   30% {
      transform: skew(0.8deg, -0.1deg);
      opacity: 0.75;
   }
   50% {
      transform: none;
      opacity: 1;
   }
   55% {
      transform: skew(-1deg, 0.2deg);
      opacity: 0.75;
   }
   75% {
      transform: skew(0.4deg, 1deg);
      opacity: 0.75;
   }
   100% {
      transform: none;
      opacity: 1;
   }
}

.input:not(:placeholder-shown) {
   animation: glitch 1s linear infinite;
}

.input-container::after {
   content: "";
   position: absolute;
   right: 10px;
   top: 50%;
   transform: translateY(-50%);
   color: #e0e0e0;
   animation: blink 0.7s step-end infinite;
}

@keyframes blink {
   50% {
      opacity: 0;
   }
}

.input:focus + .input-container::after {
   color: #ffffff;
}

.input:not(:placeholder-shown) {
   font-weight: bold;
   letter-spacing: 1px;
   text-shadow: 0px 0px 0 #000;
}

         #game-links {
   margin-top: 40px;
   padding: 20px;
   background-color: #1d1d1d;
   border-radius: 8px;
   box-shadow: 0 4px 6px rgba(0, 0, 0, 0.3);
}

#game-links h2 {
   font-family: "Courier New", monospace;
   font-size: 24px;
   color: #ffffff;
   text-transform: uppercase;
   margin-bottom: 10px;
}

#game-links ul {
   list-style: none;
   padding: 0;
}

#game-links li {
   margin: 10px 0;
}

#game-links a {
   color: #ffffff;
   text-decoration: none;
   font-family: 'Open Sans', sans-serif;
   font-size: 18px;
   transition: color 0.3s ease;
}

#game-links a:hover {
   color: #00bfff;
}
         /* Browser Tab System */
#browser-tabs {
   width: 90%;
   background: #1d1d1d;
   border-radius: 8px;
   box-shadow: 0 4px 6px rgba(0, 0, 0, 0.3);
   margin-top: 20px;
}

#tab-list {
   display: flex;
   list-style: none;
   padding: 0;
   border-bottom: 2px solid #333;
   overflow-x: auto;
   white-space: nowrap;
}

.tab {
   padding: 10px 15px;
   cursor: pointer;
   color: #e0e0e0;
   text-transform: uppercase;
   background: #333;
   border-right: 1px solid #444;
   display: flex;
   align-items: center;
}

.tab.active {
   background: #00bfff;
   color: #fff;
}

.tab button.close-tab {
   background: transparent;
   border: none;
   color: #fff;
   cursor: pointer;
   margin-left: 10px;
   font-size: 16px;
}

.tab button.close-tab:hover {
   color: #ff4c4c;
}

.tab-content {
   display: none;
   width: 100%;
   height: 80vh;
   border: none;
}

.tab-content.active {
   display: block;
}

.tab-frame {
   width: 100%;
   height: 100%;
   border: none;
}


      </style>
   </head>
   <body>
      <div id="content">
         <div id="particles-js"></div>
         <h1>RIFT</h1>
         
         <div id="browser-tabs">
   <ul id="tab-list">
      <li class="tab active" data-tab="tab-1">
         <span>New Tab</span> 
         <button class="close-tab">&times;</button>
      </li>
   </ul>
   <div id="tab-contents">
      <div class="tab-content active" id="tab-1-content">
         <iframe class="tab-frame" src="about:blank"></iframe>
      </div>
   </div>
</div>


         <!-- New Search Bar with Functionality -->
         <form id="uv-form">
            <div class="input-container">
               <input id="uv-search-engine" value="https://www.google.com/search?q=%s" type="hidden"/> 
               <input id="uv-address" class="input" name="text" type="text" placeholder="Open the rift..."/>
            </div>
         </form>

      
         <div class="desc left-margin">
            <p id="uv-error"></p>
            <pre id="uv-error-code"></pre>
         </div>
      </div>

<div id="game-links">
   <h2>Games</h2>
   <ul>
      <li><a href="games/ec.html">Minecraft 1.5.2</a></li>
      <li><a href="games/ss.html">Subway Surfers</a></li>
      <li><a href="games/dbai.html">Death By Ai</a></li>
   </ul>
</div>



      <script src="uv/uv.bundle.js" charset="UTF-8" defer></script>
      <script src="uv/uv.config.js" charset="UTF-8" defer></script>
      <script src="register-sw.js" charset="UTF-8" defer></script>
      <script src="search.js" charset="UTF-8" defer></script>
      <script src="index.js" charset="UTF-8" defer></script>

      <script>
         particlesJS('particles-js', {
            particles: {
               number: { value: 75 },
               color: { value: "#ffffff" },
               shape: { type: "circle" },
               opacity: { value: 1 },
               size: { value: 2 },
               line_linked: {
                  enable: true,
                  distance: 150,
                  color: "#ffffff",
                  opacity: 0.4,
                  width: 1,
               },
               move: {
                  enable: true,
                  speed: 6,
               },
            },
            interactivity: {
               detect_on: "window",
               events: {
                  onhover: { enable: false, mode: "repulse" },
                  onclick: { enable: false, mode: "push" },
               },
            },
            retina_detect: true,
         });

         // Keep the functionality of the old search bar
         document.querySelector('#uv-form').addEventListener('submit', function(event) {
            event.preventDefault();
            const query = document.querySelector('#uv-address').value;
            if (query.startsWith('http://') || query.startsWith('https://')) {
               window.location.href = query;
            } else {
               const searchEngine = document.querySelector('#uv-search-engine').value;
               window.location.href = searchEngine.replace('%s', encodeURIComponent(query));
            }
         });

         document.querySelector('.input').addEventListener('focus', function() {
  this.style.caretColor = 'transparent';
  this.style.outline = 'none';
});

      </script>

      <script>
// Function to create a new tab
function createNewTab(url) {
   const tabId = 'tab-' + Date.now();
   const tabList = document.querySelector('#tab-list');
   const tabContents = document.querySelector('#tab-contents');

   // Create new tab
   const newTab = document.createElement('li');
   newTab.classList.add('tab');
   newTab.dataset.tab = tabId;
   newTab.innerHTML = `<span>${url}</span> <button class="close-tab">&times;</button>`;
   tabList.appendChild(newTab);

   // Create new tab content with iframe
   const newContent = document.createElement('div');
   newContent.classList.add('tab-content');
   newContent.id = `${tabId}-content`;
   newContent.innerHTML = `<iframe class="tab-frame" src="${url}"></iframe>`;
   tabContents.appendChild(newContent);

   // Activate new tab
   setActiveTab(tabId);
}

// Function to set the active tab
function setActiveTab(tabId) {
   document.querySelectorAll('.tab').forEach(tab => {
      tab.classList.toggle('active', tab.dataset.tab === tabId);
   });
   document.querySelectorAll('.tab-content').forEach(content => {
      content.classList.toggle('active', content.id === `${tabId}-content`);
   });
}

// Event listener for tab switching
document.querySelector('#tab-list').addEventListener('click', (e) => {
   if (e.target.classList.contains('close-tab')) {
      const tab = e.target.parentElement;
      const tabId = tab.dataset.tab;
      tab.remove();
      document.getElementById(`${tabId}-content`).remove();

      // If closing the active tab, activate the last tab
      if (tab.classList.contains('active')) {
         const lastTab = document.querySelector('#tab-list .tab:last-child');
         if (lastTab) setActiveTab(lastTab.dataset.tab);
      }
   } else if (e.target.classList.contains('tab') || e.target.parentElement.classList.contains('tab')) {
      const tab = e.target.closest('.tab');
      setActiveTab(tab.dataset.tab);
   }
});

// Handle form submission to open new tabs
document.querySelector('#uv-form').addEventListener('submit', function(event) {
   event.preventDefault();
   const query = document.querySelector('#uv-address').value;
   let url;
   if (query.startsWith('http://') || query.startsWith('https://')) {
      url = query;
   } else {
      const searchEngine = document.querySelector('#uv-search-engine').value;
      url = searchEngine.replace('%s', encodeURIComponent(query));
   }
   createNewTab(url);
   document.querySelector('#uv-address').value = '';
});

</script>
   </body>
</html>
